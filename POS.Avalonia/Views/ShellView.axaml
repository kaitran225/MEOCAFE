<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:POS.Avalonia.ViewModels"
             x:Class="POS.Avalonia.Views.ShellView"
             x:DataType="vm:ShellViewModel">
  <Grid RowDefinitions="*" ColumnDefinitions="220,*" Background="{StaticResource BackgroundBrush}">
    <!-- Sidebar: nav above, user + logout section at bottom -->
    <Border Grid.Row="0" Grid.Column="0" Background="{StaticResource SidebarBrush}"
            BorderBrush="{StaticResource SidebarBorderBrush}" BorderThickness="0,0,1,0"
            Padding="12,20">
      <Grid RowDefinitions="*,Auto">
        <ListBox Grid.Row="0" ItemsSource="{Binding MenuItems}" SelectedItem="{Binding SelectedNavItem}"
                 Background="Transparent" BorderThickness="0" Padding="0" Classes="NavList">
          <ListBox.ItemTemplate>
            <DataTemplate DataType="vm:NavItem">
              <TextBlock Text="{Binding Label}" Margin="12,10"
                         FontSize="{DynamicResource BodyFontSize}"
                         Foreground="{StaticResource OnPrimaryBrush}"/>
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>
        <!-- User & logout section at bottom -->
        <Border Grid.Row="1" BorderBrush="{StaticResource SidebarBorderBrush}" BorderThickness="0,1,0,0"
                Padding="0,12,0,0" Margin="0,12,0,0">
          <StackPanel Spacing="8">
            <Border Background="{StaticResource AppBarUserBgBrush}" CornerRadius="6" Padding="10,8">
              <TextBlock Text="{Binding CurrentUserName}" FontSize="{DynamicResource CaptionFontSize}"
                         Foreground="{StaticResource OnPrimaryBrush}" Opacity="0.95"
                         TextWrapping="Wrap"/>
            </Border>
            <Button Content="Logout" Command="{Binding LogoutCommand}"
                    Background="{StaticResource AppBarButtonBgBrush}" Foreground="{StaticResource OnPrimaryBrush}"
                    BorderThickness="1" BorderBrush="{StaticResource AppBarButtonBorderBrush}"
                    HorizontalAlignment="Stretch"/>
          </StackPanel>
        </Border>
      </Grid>
    </Border>
    <!-- Content: white card on warm background -->
    <Border Grid.Row="0" Grid.Column="1" Margin="20" CornerRadius="{DynamicResource CornerRadius16}"
            Background="{StaticResource SurfaceBrush}" Padding="28"
            BoxShadow="0 4 20 0 #18000000" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1">
      <ContentControl Content="{Binding CurrentContent}"/>
    </Border>
  </Grid>
</UserControl>
